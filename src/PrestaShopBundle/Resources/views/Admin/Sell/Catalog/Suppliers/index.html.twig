{#**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 *#}

{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% import '@PrestaShop/Admin/macros.html.twig' as ps %}

{% set layoutHeaderToolbarBtn = {
  add: {
    href: path('admin_suppliers_create'),
    desc: 'Add new supplier'|trans({}, 'Admin.Catalog.Feature'),
    icon: 'add_circle_outline',
  }
}
%}

{% block content %}

  <puik-card-web variant="default">
		<h1 class="puik-h1">
			Tests web-components
		</h1>

    <puik-accordion-group-web v-model="expandedAccordion" contained>
      <puik-accordion-web icon="home" title="Title 1" sub-title="subtitle 1" name="accordion-1" disabled data-test="test">
        Content 1
      </puik-accordion-web>
      <puik-accordion-web title="Title 2" name="accordion-2">
        Content 2
      </puik-accordion-web>
      <puik-accordion-web title="Title 3" name="accordion-3">
        Content 3
      </puik-accordion-web>
    </puik-accordion-group-web>

    <puik-alert-web title="alert web" description="f" variant="info" button-label="buttonLabel" is-closable>
      <slot name="default">
        alert-web
      </slot>
    </puik-alert-web>

    <puik-avatar-web id="avatar1" data-test="avatar-test" size="small" type="photo" mode="primary" src="https://picsum.photos/200/300" :alt="args.alt" firstname="args.firstname" lastname="args.lastname"/>
    </puik-avatar-web>

    <puik-avatar-web id="avatar2" size="medium" type="icon" mode="primary" icon="favorite" firstname="args.firstname" lastname="args.lastname"/>
    </puik-avatar-web>

    <puik-avatar-web id="avatar3" size="medium" type="icon" mode="reverse" icon="favorite" firstname="args.firstname" lastname="args.lastname"/>
    </puik-avatar-web>

    <puik-avatar-web id="avatar4" size="large" type="initials" mode="primary" firstname="firstname" lastname="lastname"/>
    </puik-avatar-web>

    <puik-avatar-web id="avatar5" size="large" type="initials" mode="reverse" firstname="args.firstname" lastname="args.lastname"/>
    </puik-avatar-web>

    <puik-avatar-web id="avatar6" size="jumbo" type="icon" mode="primary" icon="favorite" firstname="args.firstname" lastname="args.lastname"/>
    </puik-avatar-web>

    <div class="flex">
      <puik-badge-web variant="success">
        The text of the badge
      </puik-badge-web>
      <puik-badge-web variant="warning">
        The text of the badge
      </puik-badge-web>
      <puik-badge-web variant="danger">
        The text of the badge
      </puik-badge-web>
      <puik-badge-web variant="info">
        The text of the badge
      </puik-badge-web>
      <puik-badge-web variant="neutral" data-test="badge-test">
        The text of the badge
      </puik-badge-web>
    </div>

    <puik-breadcrumb-web
      icon="home">
    </puik-breadcrumb-web>

    <puik-button-web class="mb-4" size="sm" variant="primary" wrap-label left-icon="home" right-icon="favorite" onclick="buttonEvent()">
      button-web
    </puik-button-web>

    <puik-checkbox-web v-model="value" label="Label" data-test="check-test">
      <slot>label</slot>
    </puik-checkbox-web>

		<puik-chip-web
			id="chip-id"
			content="chipcontentgrrgrgrgrgrgrgrgrgrgrgrgrgrgrgrgrgrgrgrggrgr"
			size="default"
			icon="home"
			tooltip-position="bottom">
    </puik-chip-web>

		<puik-divider-web></puik-divider-web>

		<puik-icon-web icon="check" font-size="140px" color="green" data-test="icon-test"></puik-icon-web>

		<div>
			<puik-label-web for="myInput" readonly data-test="lable-test">My Label</puik-label-web>
			<puik-input-web id="myInput" name="myInput" v-model="myValue" type="text" required hint="hint" prepend="home" placeholder="placeholder" has-error data-test="input-test">
				<slot name="hint">hint</slot>
				<slot name="error">error</slot>
			</puik-input-web>
		</div>

		<puik-link-web size="sm" href="#" target="_blank" title="I'm a tooltip for your link">
			I'm a cool link
		</puik-link-web>

		<puik-link-web size="md" href="#" target="_self" title="I'm a tooltip for your link">
			I'm a cool link
		</puik-link-web>

		<puik-link-web size="lg" href="#" target="_parent" title="I'm a tooltip for your link" data-test="link-test" high-contrast>
			I'm a cool link
		</puik-link-web>

    {# <puik-menu-web
      align="center"
      position="bottom"
      width="300"
      max-height="1000"
    >
      <template id="trigger">
        <button-web>Show menu</button-web>
      </template>

      <template id='default="{ close }"'>
        <puik-menu-item-title-web>
          First section title
        </puik-menu-item-title-web>
        <puik-menu-item-web>
          <button-web variant="text">
            Item
          </button-web>
        </puik-menu-item-web>
        <puik-menu-item-web>
          <button-web variant="text" left-icon="home">
            Item with icon
          </button-web>
        </puik-menu-item-web>

        <puik-menu-item-separator-web></puik-menu-item-separator-web>

        <puik-menu-item-title-web>
          Second section title
        </puik-menu-item-title-web>
        <p>
          Information text
        </p>
        <puik-menu-item-web>
          <button-web variant="destructive" left-icon="delete">
            Destructive item
          </button-web>
        </puik-menu-item-web>
      </template>
    </puik-menu-web> #}

    {# <modal-web
      title="title"
      main-button-text="mainButtonText"
      second-button-text="secondButtonText"
      side-button-text="sideButtonText"
      size="small"
      is-open
      title-icon="home"
    >
      Your content
    </modal-web> #}

    <puik-pagination-web
      model-value="4"
      page="1"
      total-item="500"
      item-count="25"
      items-per-page="20"
    ></puik-pagination-web>

    <puik-progress-bar-web percentage="30"></puik-progress-bar-web>

    <puik-progress-stepper-web model-value="1">
      <puik-progress-stepper-step-web step="1">
        <div slot="text">Text step 1</div>
        <div slot="additional-text">Additional text step 1</div>
      </puik-progress-stepper-step-web>
      <puik-progress-stepper-step-web step="2">
        <div slot="text">Text step 1</div>
        <div slot="additional-text">Additional text step 1</div>
      </puik-progress-stepper-step-web>
      <puik-progress-stepper-step-web step="3">
        <div slot="text">Text step 1</div>
        <div slot="additional-text">Additional text step 1</div>
      </puik-progress-stepper-step-web>
    </puik-progress-stepper-web>

    <div class="flex">
        <puik-button-web id="previous-step-btn" size="sm" variant="primary" left-icon="chevron_left">
          previous
        </puik-button-web>
        <puik-button-web id="next-step-btn" size="sm" variant="primary" right-icon="chevron_right">
          next
        </puik-button-web>
    </div>

    <puik-radio-web
      label="label"
      name="name"
      value="value"
    ></puik-radio-web>

    <puik-select-web>
    </puik-select-web>

    {# <puik-sidebar-web open-accordion="name">
      <puik-sidebar-item-web title="Home" icon="home"></puik-sidebar-item-web>
      <puik-sidebar-item-web title="Dashboard" icon="trending_up"></puik-sidebar-item-web>
      <puik-sidebar-title-web>Section title</puik-sidebar-title-web>
      <puik-sidebar-group-item-web title="Orders" icon="shopping_basket" name="group-1" active>
        <puik-sidebar-item-web title="Title 1" active></puik-sidebar-item-web>
        <puik-sidebar-item-web title="Title 2"></puik-sidebar-item-web>
        <puik-sidebar-item-web title="Title 3"></puik-sidebar-item-web>
      </puik-sidebar-group-item-web>
      <puik-sidebar-group-item-web title="Catalog" icon="store" name="group-2">
        <puik-sidebar-item-web title="Title 1"></puik-sidebar-item-web>
        <puik-sidebar-item-web title="Title 2"></puik-sidebar-item-web>
        <puik-sidebar-item-web title="Title 3"></puik-sidebar-item-web>
      </puik-sidebar-group-item-web>
      <puik-sidebar-group-item-web title="Customers" icon="people" name="group-3">
        <puik-sidebar-item-web title="Title 1"></puik-sidebar-item-web>
        <puik-sidebar-item-web title="Title 2"></puik-sidebar-item-web>
        <puik-sidebar-item-web title="Title 3"></puik-sidebar-item-web>
      </puik-sidebar-group-item-web>
      <puik-sidebar-item-web title="Settings" icon="settings"></puik-sidebar-item-web>
      <puik-sidebar-item-web title="New modules added customization" icon="extension"></puik-sidebar-item-web>
    </puik-sidebar-web> #}

    <puik-skeleton-loader-group-web>
      <div style="border: 1px solid grey; width: 50%; padding: 10px">
        <puik-skeleton-loader-web variant="image"></puik-skeleton-loader-web>
        <puik-skeleton-loader-web variant="h3"></puik-skeleton-loader-web>
        <puik-skeleton-loader-web variant="jumbotron"></puik-skeleton-loader-web>
      </div>
    </puik-skeleton-loader-group-web>

    <puik-spinner-web size="lg" label="WAIT" position="right">
    </puik-spinner-web>

    <puik-switch-web label="toto" screen-reader-text="toooot">
      toto
    </puik-switch-web>

    <puik-tab-navigation-web name="tab.name" default-position="2">
      <puik-tab-navigation-group-titles-web aria-label="args.ariaLabel">
        <puik-tab-navigation-title-web position="1">
          TAB1
        </puik-tab-navigation-title-web>
        <puik-tab-navigation-title-web position="2">
          TAB2
        </puik-tab-navigation-title-web>
      </puik-tab-navigation-group-titles-web>

      <puik-tab-navigation-group-panels-web>
        <puik-tab-navigation-panel-web position="1">
          CONTENT1
        </puik-tab-navigation-panel-web>
        <puik-tab-navigation-panel-web position="2">
          CONTENT2
        </puik-tab-navigation-panel-web>
      </puik-tab-navigation-group-panels-web>
    </puik-tab-navigation-web>

    <puik-table-web
      id="table-web"
      :headers=""
      :items="[]"
    >
    </puik-table-web>

    <puik-tag-web
      id="puik-tag-web"
      content="contentTAG"
      variant="neutral"
      icon="home"
      data-test="GRO?GNGE"
    >
    </puik-tag-web>
    <puik-tag-web
      id="puik-tag-web"
      content="contentTAG"
      variant="blue"
      disabled
    >
    </puik-tag-web>
    <puik-tag-web
      id="puik-tag-web"
      content="contenefkrengkjerngjrnegknrkgnerhkgnekgetTAG"
      variant="yellow"
    >
    </puik-tag-web>
    <puik-tag-web
      id="puik-tag-web"
      content="contentTAG"
      variant="purple"
    >
    </puik-tag-web>
    <puik-tag-web
      id="puik-tag-web"
      content="contentTAG"
      variant="green"
    >
    </puik-tag-web>

    <puik-textarea-web
      id="textarea-puik"
      placeholder="test"
      model-value="textarea-val"
      auto-grow
      max-rows="5"
      max-length="5"
    >
    </puik-textarea-web>

    <puik-tooltip-web
      title="Tooltip"
      description="desc"
    >
      test
      <template id="title">
        <p>My paragraph</p>
      </template>
    </puik-tooltip-web>

	</puik-card-web>

	<div style="min-height: 100px; background-color: white; padding: 20px; display: flex;">
		<puik-divider-web orientation="vertical"></puik-divider-web>
	</div>

  {% block supplier_grid %}
    {{ ps.infotip(settingsTipMessage, true) }}
    {% include'@PrestaShop/Admin/Common/Grid/grid_panel.html.twig' with {'grid': supplierGrid} %}
  {% endblock %}
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script>
  
    // Alert
		const alertClosableEvent = () => {
			document.querySelector(".puik-icon .puik-alert__close").addEventListener("click", (event) => {
			console.log("alert closable!", event);
			});
		};

    // Breadcrumb
    const breadcrumb = document.querySelector('puik-breadcrumb-web')
		const breadcrumbItems = [
			{
				label: "test ok 1",
				href: "#",
				target: '_blank',
				dataTest: "item1-test",
			},
			{
				label: "label 2",
				href: "#",
				target: '_self',
				dataTest: "item2-test",
			},
			{
				label: "label 3",
				href: "#",
				target: '_parent',
				dataTest: "item3-test",
			},
			{
				label: "label 3",
				href: "#",
				target: '_top',
				dataTest: "item4-test",
			}
		]

    breadcrumb.setAttribute('items-json', JSON.stringify(breadcrumbItems))

    // Chip
		handleCloseChip = () => {
			console.log('close')
		}
    const myChip = document.querySelector('#chip-id')
    myChip.addEventListener('close', (event)=>{
      console.log(event)
    })

    // Input
		let myValue = ""
		const inputWebs = document.querySelectorAll('puik-input-web')
		if (inputWebs) {
			console.log(inputWebs)
			inputWebs.forEach((inputWeb) => {
        inputWeb.addEventListener('update:modelValue', (value) => {
          console.log(value)
          inputWeb.setAttribute('model-value', value.detail[0])
        })
			})
		}

    // Textarea
    const customInputs = document.querySelectorAll('puik-textarea-web')
    if (customInputs) {
      customInputs.forEach((customInput) => {
        customInput.addEventListener('update:modelValue', (value) => {
          customInput.setAttribute('model-value', value.detail[0])
        })
      })
    }

    // Table
    const headers = [
      {
        text: 'Nom',
        value: 'lastname',
        size: 'md',
        searchable: true,
      },
      {
        text: 'Prénom',
        value: 'firstname',
        size: 'md',
        searchable: true,
      },
      {
        text: 'Age',
        value: 'age',
        size: 'sm',
        align: 'right',
        searchable: true,
      },
      {
        text: 'Email',
        value: 'email',
        align: 'left',
        searchable: true,
      },
      {
        value: 'actions',
        size: 'sm',
        align: 'center',
        preventExpand: true,
        searchSubmit: true,
      },
    ];
    // const table = document.querySelectorAll('table-web')
    // table[0].setAttribute('headers', JSON.stringify(headers))

    // Pagination
    const customInputs2 = document.querySelectorAll('pagination-web')
    if (customInputs2) {
      customInputs2.forEach((customInput) => {
        customInput.addEventListener('update:page', (value) => {
          customInput.setAttribute('model-value', value.detail[0])
        })
      })
    }

    // Progress-stepper
    let step = 1
    const progress_stepper = document.querySelector('puik-progress-stepper-web')
    const progress_stepper_steps = document.querySelectorAll('puik-progress-stepper-step-web')
    if(progress_stepper) {
      document.querySelector("#previous-step-btn").addEventListener("click", (event) => {
        step === 1 ? step = 1 : step -= 1
        progress_stepper.setAttribute('model-value', step)
      });
      document.querySelector("#next-step-btn").addEventListener("click", (event) => {
        step === progress_stepper_steps.length ? step = progress_stepper_steps.length : step += 1
        progress_stepper.setAttribute('model-value', step)
      });
    }

  </script>
  <script src="{{ asset('themes/new-theme/public/supplier.bundle.js') }}"></script>
  <script src="{{ asset('themes/default/js/bundle/pagination.js') }}"></script>
{% endblock %}
